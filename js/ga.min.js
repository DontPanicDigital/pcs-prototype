var track_GA={listeners:{category:"data-ga-category",action:"data-ga-action",scroll:"data-ga-scroll",special:"data-ga-special"},actions:{blur:"blur",focus:"focus",change:"change",click:"click",mouseenter:"mouseenter",mouseleave:"mouseleave"},voluntary:{label:"data-ga-label",value:"data-ga-value"},helpers:{checked:"data-ga-checked",last_value:"data-ga-last-value"},window:null,document:null,watch:function(t){var e=this;this.document.on(t,"["+this.listeners.category+"]["+this.listeners.action+'="'+t+'"]',function(){var t=$(this);e.prepare_data(t)})},watch_special:function(){var t=this;this.document.on(this.actions.click,"["+this.listeners.special+"]",function(){var e=$(this);t.prepare_data(e)})},watch_change:function(){var t=this;this.document.on(this.actions.focus,"["+this.listeners.action+'="'+this.actions.change+'"]',function(){var e=$(this);"1"!=e.attr(t.helpers.checked)&&(e.attr(t.helpers.last_value,e.val()),e.attr(t.helpers.checked,"1"))}),this.document.on(this.actions.blur,"["+this.listeners.action+'="'+this.actions.change+'"]',function(){var e=$(this);e.val()!=e.attr(t.helpers.last_value)&&(e.attr(t.voluntary.value,e.val()),t.prepare_data(e))})},watch_scroll:function(){var t=this;this.window.scroll(function(){var e=$(this),a=parseInt(e.scrollTop())+parseInt(e.outerHeight());$("["+t.listeners.scroll+"]").each(function(){var e=$(this),n=parseInt(e.attr(t.listeners.scroll)),i=parseInt(e.offset().top),s=i+n;a>=s&&"1"!=e.attr(t.helpers.checked)&&(e.attr(t.helpers.checked,"1"),t.prepare_data(e))})})},watch_static:function(t,e,a,n,i){var s=this;this.document.on(a,t,function(){s.push(e,a,n,i)})},prepare_data:function(t){if(t instanceof jQuery){var e=this.attribute(t,this.listeners.category),a=this.attribute(t,this.listeners.action);null!==e&&null!==a&&this.ga(e,a,this.attribute(t,this.voluntary.label),this.attribute(t,this.voluntary.value))}},attribute:function(t,e){return"undefined"!=typeof t.attr(e)&&0!==t.attr(e).length?t.attr(e):null},ga:function(t,e,a,n){ga("send","event",t,e,a,n)},push:function(t,e,a,n){return this.check_GA()?"undefined"==typeof t?!1:"undefined"==typeof e?!1:("undefined"==typeof a&&(a=null),"undefined"==typeof n&&(n=null),this.ga(t,e,a,n),!0):!1},init:function(){this.check_GA()&&(this.document=$(document),this.window=$(window),this.watch_special(),this.watch_scroll(),this.watch_change(),this.watch(this.actions.click),this.watch(this.actions.mouseenter),this.watch(this.actions.mouseleave),this.watch_static(".icoInformations","category",this.actions.mouseenter,"label"))},check_GA:function(){return"function"!=typeof ga?(alert("Google Analytics nebyly nalezeny!"),!1):!0}};$(function(){track_GA.init()});