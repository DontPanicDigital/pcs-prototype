var track_GA={listeners:{category:"data-ga-category",action:"data-ga-action",scroll:"data-ga-scroll",special:"data-ga-special"},actions:{blur:"blur",focus:"focus",change:"change",click:"click",mouseenter:"mouseenter",mouseleave:"mouseleave"},voluntary:{label:"data-ga-label",value:"data-ga-value"},helpers:{checked:"data-ga-checked",last_value:"data-ga-last-value"},window:null,document:null,watch:function(e){var t=this;this.document.on(e,"["+this.listeners.category+"]["+this.listeners.action+'="'+e+'"]',function(){var e=$(this);t.prepare_data(e)})},watch_special:function(){var e=this;this.document.on(this.actions.click,"["+this.listeners.special+"]",function(){var t=$(this);e.prepare_data(t)})},watch_change:function(){var e=this;this.document.on(this.actions.focus,"input["+this.listeners.action+'="'+this.actions.change+'"]',function(){var t=$(this);if(t.attr(e.helpers.checked)!="1"){t.attr(e.helpers.last_value,t.val());t.attr(e.helpers.checked,"1")}});this.document.on(this.actions.blur,"input["+this.listeners.action+'="'+this.actions.change+'"]',function(){var t=$(this);if(t.val()!=t.attr(e.helpers.last_value)){t.attr(e.voluntary.value,t.val());e.prepare_data(t)}})},watch_scroll:function(){var e=this;this.window.scroll(function(){var t=$(this);var n=parseInt(t.scrollTop())+parseInt(t.outerHeight());$("["+e.listeners.scroll+"]").each(function(){var t=$(this);var r=parseInt(t.attr(e.listeners.scroll));var i=parseInt(t.offset().top);var s=i+r;if(n>=s&&t.attr(e.helpers.checked)!="1"){t.attr(e.helpers.checked,"1");e.prepare_data(t)}})})},watch_static:function(e,t,n,r,i){var s=this;this.document.on(n,e,function(){s.push(t,n,r,i)})},prepare_data:function(e){if(e instanceof jQuery){var t=this.attribute(e,this.listeners.category);var n=this.attribute(e,this.listeners.action);if(t!==null&&n!==null){this.ga(t,n,this.attribute(e,this.voluntary.label),this.attribute(e,this.voluntary.value))}}},attribute:function(e,t){if(typeof e.attr(t)!=="undefined"){if(e.attr(t).length!==0)return e.attr(t)}return null},ga:function(e,t,n,r){ga("send","event",e,t,n,r)},push:function(e,t,n,r){if(!this.check_GA())return false;if(typeof e==="undefined")return false;if(typeof t==="undefined")return false;if(typeof n==="undefined")n=null;if(typeof r==="undefined")r=null;this.ga(e,t,n,r);return true},init:function(){if(this.check_GA()){this.document=$(document);this.window=$(window);this.watch_special();this.watch_scroll();this.watch_change();this.watch(this.actions.click);this.watch(this.actions.mouseenter);this.watch(this.actions.mouseleave);this.watch_static(".child-calc .icoInformation","kalkulacka-dite-step-ii",this.actions.mouseenter,"Zobrazení kontextových nápověd");this.watch_static(".mortgage-calc .icoInformation","kalkulacka-hypoteka-step-ii",this.actions.mouseenter,"Zobrazení kontextových nápověd");this.watch_static(".bespoke-calc .icoInformation","kalkulacka-namiru-step-ii",this.actions.mouseenter,"Zobrazení kontextových nápověd");this.watch_static(".family-calc .icoInformation","kalkulacka-rodina-step-ii",this.actions.mouseenter,"Zobrazení kontextových nápověd");this.watch_static(".active-calc .icoInformation","kalkulacka-zijuaktivne-step-ii",this.actions.mouseenter,"Zobrazení kontextových nápověd")}},check_GA:function(){if(typeof ga!=="function"){alert("Google Analytics nebyly nalezeny!");return false}return true}};$(function(){track_GA.init()})